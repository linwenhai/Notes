## 常用命令

### 1 zip

| 参数 | 描述                                             |
| ---- | ------------------------------------------------ |
| r    | 递归处理，将指定目录下的所有文件和子目录一并处理 |

```shell
# 将/app/html这个目录下所有文件和文件夹打包为当前目录下的 html.zip
zip -r html.zip /app/html

# 如在/app/html目录下，可以执行以下命令
zip -r html.zip *
```

```shell
# 解压
unzip html.zip
```



### 2 rz/sz

```shell
yum install lrzsz
```

```shell
# 上传文件
rz
```

```shell
# 下载文件
sz 1.log
```





### 3 date

```shell
# 获取系统时间
date "+%Y-%m-%d %H:%M:%S"
```

>执行结果：
>
>2020-08-18 13:53:21



### 4 curl

```shell
# 获取网站http状态码
curl -o /dev/null -s -w "http_code:%{http_code}\n" http://www.baidu.com
```



```shell
# 上传文件到FTP服务器
curl -u 835084:123456 -T 1.txt ftp://10.1.1.11/
```



### 5 crontab

```shell
crontab -l
crontab -e
```

```shell
# 语法
*    *    *    *    *    /bin/ls
-    -    -    -    -
|    |    |    |    |
|    |    |    |    +----- 星期中星期几 (0 - 7) (星期天 为0)
|    |    |    +---------- 月份 (1 - 12) 
|    |    +--------------- 一个月中的第几天 (1 - 31)
|    +-------------------- 小时 (0 - 23)
+------------------------- 分钟 (0 - 59)
```

```shell
# 每10s执行一次
* * * * * sh test.sh
* * * * * sleep 10; sh test.sh
* * * * * sleep 20; sh test.sh
* * * * * sleep 30; sh test.sh
* * * * * sleep 40; sh test.sh
* * * * * sleep 50; sh test.s
```

```shell
# 每分钟执行一次
* * * * * sh test.sh
```



### 6 grep

| 参数选项 | 含义                             |
| :------- | :------------------------------- |
| -v       | 显示不包含匹配“info”文本的所有行 |
| -n       | 显示匹配行及行号                 |
| -i       | 忽略大小写                       |
| ^m       | 搜寻以m开头的行                  |
| e$       | 搜寻以 e 结束的行                |



### 7 find

| 常用用法                      | 含义                                   |
| :---------------------------- | :------------------------------------- |
| find /tmp -name test.sh       | 查找/tmp目录下所有名为test.sh的文件    |
| find /tmp -name '*.sh'        | 查找/tmp目录下所有后缀为.sh的文件      |
| find /tmp -name "[A-Z]*"      | 查找/tmp目录下所有以大写字母开头的文件 |
| find /tmp -size 2M            | 查找/tmp 目录下等于2M的文件            |
| find /tmp -size +2M           | 查找/tmp 目录下大于2M的文件            |
| find /tmp -size -2M           | 查找/tmp 目录下小于2M的文件            |
| find /tmp -size +4k -size -5M | 查找/tmp目录下大于4k，小于5M的文件     |
| find /tmp -perm 777           | 查找/tmp目录下权限为 777 的文件或目录  |



### 8 tar

```shell
# tar归档管理，扩展名是xxxx.tar，语法
tar [参数] [打包文件名] [文件]
```

| 参数 | 含义                                                      |
| :--- | :-------------------------------------------------------- |
| -c   | 打包档案文件                                              |
| -v   | 列出归档解档的详细过程，显示进度                          |
| -f   | 指定档案文件名称，f后面一定是.tar文件，所以必须放选项最后 |
| -t   | 列出档案中包含的文件                                      |
| -x   | 解开档案文件                                              |

```shell
# 打包文件
tar -cvf 1.tar 1.log
 
# 解压文件
tar -xvf 1.tar
```

```shell
# 在tar命令中增加一个选项(-z)可以调用gzip实现了一个压缩的功能
tar -zcvf 1.tar.gz 1.log
 
# 解压文件
tar -zxvf 1.tar.gz
```



### 9 gzip

```shell
# gzip文件压缩解压，扩展名是xxxx.gz，语法
gzip  [选项]  [被压缩文件]
```

| 参数 | 含义                 |
| :--- | :------------------- |
| -d   | 解压                 |
| -r   | 递归，压缩所有子目录 |

```shell
# 压缩文件
gzip -r 1.tar 1.tar.gz
 
# 解压文件
gzip -d 1.tar.gz
```



### 10 bzip

```shell
# 压缩用法：tar -jcvf 压缩包包名 文件
tar -jcvf 1.tar.bz2 *.c
 
# 解压用法：tar -jxvf 压缩包包名
tar -jxvf 1.tar.bz2
```

