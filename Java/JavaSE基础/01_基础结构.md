## 基础结构



### 一、注释与标识符

| 注释     |                                         |
| -------- | --------------------------------------- |
| 单行注释 | 以`//`开头，后面的单行内容均为注释      |
| 多行注释 | 以`/*`开头以`*/`结尾，之间的内容为注释  |
| 文档注释 | 以`/**`开头以`*/`结尾，之间的内容为注释 |

```java
package com.test.java;
/**
 * 文档注释
 * @author 林
 *
 */
public class Test{
	/*
	 * 多行注释
	 * */
    public static void main(String[] args){
        System.out.println("Hello Java");	//单行注释
	}
}
```



**标识符**：是用来给变量、类、方法以及包进行命名的。

- 标识符必须以字母、下划线_、美元符号$开头。 
- 标识符其它部分可以是字母、下划线“_”、美元符“$”和数字的任意组合。
- Java 标识符大小写敏感，且长度无限制。
- 标识符不可以是Java的关键字。



### 二 、变量与常量

#### 2.1 变量定义

 Java是一种强类型语言，每个变量都必须声明其数据类型。

语法：

```java
数据类型  变量名  [=初始值] [,变量名  [=初始值]…];
```

```java
int  age = 18;    
double  pi = 3.14;
```



#### 2.2 变量分类

| 类型               | 声明位置           | 从属于      |
| ------------------ | ------------------ | ----------- |
| 局部变量           | 方法或语句块内部   | 方法/语句块 |
| 成员变量(实例变量) | 类内部，方法外部   | 对象        |
| 静态变量(类变量)   | 类内部，static修饰 | 类          |

```java
public class Test {
	String com="SL";	//成员变量
	static int size;	//静态变量
	
	public static void main(String[] args) {
		String name;	//局部变量
		int age;		
	}
}
```



#### 2.3 常量

使用关键字final来定义一个常量。 常量一旦被初始化后不能再更改其值。

常量名：大写字母和下划线

语法：

```java
final  type  varName = value;
```



### 三、数据类型

#### 3.1 整型

Java整型默认类型是int。

| **类型** | **占用存储空间** | **表数范围**                                 |
| -------- | ---------------- | -------------------------------------------- |
| byte     | 1字节            | -27 ~  27-1（-128~127）                      |
| short    | 2字节            | -215 ~  215-1（-32768~32767）                |
| int      | 4字节            | -231 ~  231-1 (-2147483648~2147483647)约21亿 |
| long     | 8字节            | -263 ~  263-1                                |

**整型常量的表示形式：**

- 十进制整数，如：99, -500, 0
- 八进制整数，要求以 0 开头，如：015
- 十六进制数，要求 0x 或 0X 开头，如：0x15
- 二进制数，要求0b或0B开头，如：0b01110011



#### 3.2 浮点型

Java浮点型默认类型是double。

| **类型** | **占用存储空间** | **表数范围**         |
| -------- | ---------------- | -------------------- |
| float    | 4字节            | -3.403E38~3.403E38   |
| double   | 8字节            | -1.798E308~1.798E308 |

float类型被称作单精度类型，double类型被称作双精度类型。

**浮点类型的表示形式**：

- 十进制数形式，例如:3.14，314.0，0.314
- 科学记数法形式，如314e2，314E2，314E-2 



#### 3.3 字符型

字符型在内存中占2个字节，在Java中使用单引号来表示字符常量。

 char 类型用来表示在Unicode编码表中的字符。

| 转义符 | 含义              | Unicode值 |
| ------ | ----------------- | --------- |
| \b     | 退格（backspace） | \u0008    |
| \n     | 换行              | \u000a    |
| \r     | 回车              | \u000d    |
| \t     | 制表符（tab）     | \u0009    |
| \“     | 双引号            | \u0022    |
| \‘     | 单引号            | \u0027    |
| \\     | 反斜杠            | \u005c    |



#### 3.4 布尔型

boolean类型有两个常量值，true和false，在内存中占一位（不是一个字节）。



#### 3.5 类型转换

自动类型转换：指的是容量小的数据类型可以自动转换为容量大的数据类型。

![1.png](.\image\1494906265693111.png)

- 实线表示无数据丢失的自动类型转换。
- 虚线表示在转换时可能会有精度的损失。



强制类型转换：又被称为造型，用于显式的转换一个数值的类型。

```java
double a=3.14;
int b=(int)a;	//b=3
```



### 四、运算符

#### 4.1 算术运算符

| 运算符        |            |
| ------------- | ---------- |
| +，-，*，/，% | 二元运算符 |
| ++，--        | 二元运算符 |

```java
public class Test {
	public static void main(String[] args) {
		int a,b,c,d;
		a=3;
		b=a++;	// 先赋值后计算
		System.out.println(a);		//a=4
		System.out.println(b);		//b=3
		System.out.println("--------------------");
		c=3;
		d=++c;	// 先计算后赋值
		System.out.println(c);		//c=4
		System.out.println(d);		//d=4
	}
}
```



“+”运算符两侧只要有一个是字符串(String)类型，系统会自动将另一个操作数转换为字符串然后再进行连接。



#### 4.2 赋值运算符

| 运算符 | 用法举例 | 等效的表达式 |
| ------ | -------- | ------------ |
| +=     | a += b   | a = a+b      |
| -=     | a -= b   | a = a-b      |
| *=     | a *= b   | a = a*b      |
| /=     | a /= b   | a = a/b      |
| %=     | a %= b   | a = a%b      |



#### 4.3 关系运算符

| 运算符 | 含义       | 示例 |
| ------ | ---------- | ---- |
| ==     | 等于       | a==b |
| !=     | 不等于     | a!=b |
| >      | 大于       | a>b  |
| <      | 小于       | a<b  |
| >=     | 大于或等于 | a>=b |
| <=     | 小于或等于 | a<=b |



#### 4.4 逻辑运算符

| 运算符         | 含义                                        |
| -------------- | ------------------------------------------- |
| &（逻辑与）    | 两个操作数为true，结果才是true，否则是false |
| \|（逻辑或）   | 两个操作数有一个是true，结果就是true        |
| &&（短路与）   | 只要有一个为false，则直接返回false          |
| \|\|（短路或） | 只要有一个为true， 则直接返回true           |
| !（逻辑非）    | 取反：!false为true，!true为false            |
| ^（逻辑异或）  | 相同为false，不同为true                     |

```java
boolean c = 1>2 && 2>(3/0);		//不计算2>(3/0)

boolean d = 1>2 & 2>(3/0);		//需计算2>(3/0)
```



#### 4.5 位运算符

位运算指的是进行二进制位的运算。

| 位运算符 | 说明                             |
| -------- | -------------------------------- |
| ~        | 取反                             |
| &        | 按位与                           |
| \|       | 按位或                           |
| ^        | 按位异或                         |
| <<       | 左移运算符，左移1位相当于乘2     |
| >>       | 右移运算符，右移1位相当于除2取商 |

```java
int a=3<<2;		//相当于：3*2*2，结果为12

int b=24>>2;	//相当于：24/2/2，结果为6
```



#### 4.6 条件运算符

语法：

```java
x ? y : z
```

其中 x 为 boolean 类型表达式，先计算 x 的值，若为true，则整个运算的结果为表达式 y 的值，否则整个运算结果为表达式 z 的值。



#### 4.7 运算符优先级

| 优先级 | 运算符                  | 类                     |
| ------ | ----------------------- | ---------------------- |
| 1      | ()                      | 括号运算符             |
| 2      | !、+（正号）、-（负号） | 一元运算符             |
| 2      | ~                       | 位逻辑运算符           |
| 2      | ++、--                  | 递增与递减运算符       |
| 3      | *、/、%                 | 算术运算符             |
| 4      | +、-                    | 算术运算符             |
| 5      | <<、>>                  | 位左移、右移运算符     |
| 6      | >、>=、<、<=            | 关系运算符             |
| 7      | ==、!=                  | 关系运算符             |
| 8      | &                       | 位运算符、逻辑运算符   |
| 9      | ^                       | 位运算符、逻辑运算符   |
| 10     | \|                      | 位运算符、逻辑运算符   |
| 11     | &&                      | 逻辑运算符             |
| 12     | \|\|                    | 逻辑运算符             |
| 13     | ? :                     | 条件运算符             |
| 14     | =、+=、-=、*=、/=、%=   | 赋值运算符、扩展运算符 |



### 五、字符串

Java 没有内置的字符串类型 。而是在标准 Java 类库中提供了一个预定义类String。

```java
String a="Hello Java";
```



#### 5.1 提取子串

```java
String a="Hello Java";
String b=a.substring(0, 3);		//b="Hel"
```



#### 5.2 拼接

```java
String a="Hello ";
String b="Java";
String c=a+b;	//c="Hello Java"
```



Java使用 equals 方法检测两个字符串是否相等。

```java
s.equals(t)
```





### 六、控制流程

#### 6.1 if语句

【1】if结构

语法：

```java
if(布尔表达式){
    语句块
}
```

![1.png](image\1494915015552935.png)

【2】if-else结构

语法：

```java
if(布尔表达式){
	语句块1
}else{
	语句块2
}
```

![1.png](image\1494917663543171.png)



【3】if-else-if-else结构

语法：

```java
if(布尔表达式1) {
	语句块1;
} else if(布尔表达式2) {
	语句块2;
}……
else if(布尔表达式n){
    语句块n;
} else {
    语句块n+1;
}
```

![1.png](image\1494918202257279.png)



#### 6.2 switch语句

语法：

```java
switch (表达式) {
case 值1: 
	语句序列1;
	[break];
case 值2:
    语句序列2;
	[break];
     … … …      … …
[default:
 	默认语句;]
}
```

![1.png](image\1494918663569372.png)



#### 6.3 while循环

while语法：

```java
while (布尔表达式) {
    循环体;
}
```

![1.png](image\1494919125339101.png)



do-while语法：

```java
do {
	循环体;
} while(布尔表达式) ;
```

![1.png](image\1494919347187056.png)







#### 6.4 for循环

for循环是while循环简化版。

for语法：

```java
for (初始表达式; 布尔表达式; 迭代因子) {
      循环体;
}
```

![1.png](image\1494919708427157.png)





#### 6.5 中断语句

break语句：于强行退出循环，不执行循环中剩余的语句。

```java
public class Test{
    public static void main(String[] args){
        int sum=0;
        while(true) {
        	sum++;
        	int i=(int)Math.round(100*Math.random());
        	if(i==88) {
        		break;
        	}
        }
        System.out.println(sum);	//输出循环的次数
	}
}
```



continue语句：跳过循环体中尚未执行的语句，返回到是否执行循环的判定。

```java
public class Test{
    public static void main(String[] args){
        int sum=0;
        for(int i=1;i<100;i++) {
        	if(i%3!=0) {
        		continue;
        	}      	
        	sum++;
        }
        System.out.println(sum);	//统计被3整除数量
	}
}
```



#### 6.6 语句块

语句块：是用花括号扩起的任意数量的简单Java语句。

```java
public class Test {
    public static void main(String[] args) {
        int n;
        int a;
        {	//语句块
            int k;
            int n; //编译错误：不能重复定义变量n
        } //变量k的作用域到此为止
    }
}
```





#### 6.7 递归结构

递归的基本思想就是“自己调用自己”。

递归结构包括两个部分：定义递归头与递归体。

```java
package com.test.java;

public class Test {

	public static void main(String[] args) {
		System.out.println(factorial(5));
	}
	
	static long factorial(int n) {
		if(n==1) {	//递归头
			return 1;
		}else {		//递归体
			return n*factorial(n-1);
		}
	}
}
```

运行效果图：

<img src="image/1494921676253834.png" alt="2.png" style="zoom: 80%;" />



### 七、数组

**数组**是相同类型数据的有序集合。

数组基本特点：

- 长度是确定的。数组一旦被创建，它的大小就是不可以改变的。

- 其元素必须是相同类型，不允许出现混合类型。

- 数组类型可以是任何数据类型，包括基本类型和引用类型。

  

#### 7.1 数组声明

语法：

```java
type[]   arr_name; 		//（推荐使用这种方式）
type    arr_name[];
```



【1】基本类型数组

```java
public class Test {
    public static void main(String args[]) {
        int[] s =new int[10];    // 声明基本类型数组，分配空间；
        for (int i = 0; i < 10; i++) {
            s[i] = 2 * i + 1;    //给数组元素赋值；
            System.out.println(s[i]);
        } 
    }
}
```

基本类型数组内存分配图：

![图7-1 基本类型数组内存分配图.png](image\5947f6bdd1ec12bb3a10b1cdec0756a5.png)



【2】引用类型数组

```java
class Man{
    private int age;
    private int id;
    public Man(int id,int age) {
        super();
        this.age = age;
        this.id = id;
    }
}
public class AppMain {
    public static void main(String[] args) {
        Man[] mans=new Man[10];  //声明引用类型数组，分配空间；
         
        Man m1 = new Man(1,11);    //给基本类型数组元素赋值
        Man m2 = new Man(2,22);  
         
        mans[0]=m1;    //给引用类型数组元素赋值；
        mans[1]=m2;    //给引用类型数组元素赋值；
    }
}
```

引用类型数组内存分配图：

![图7-2 引用类型数组内存分配图.png](image\7c855d5ab93e501e123a1999f432947b.png)





#### 7.2 数组初始化

【1】静态初始化

```java
int[] a = { 1, 2, 3 };       // 静态初始化基本类型数组
 
Man[] mans = { new Man(1, 1), new Man(2, 2) };    // 静态初始化引用类型数组
```



【2】动态初始化

```java
int[] a1 = new int[2];    //动态初始化数组，先分配空间
a1[0]=1;    //给数组元素赋值
a1[1]=2;    //给数组元素赋值
```



【3】默认初始化

```java
int[] a = new int[2];             // 默认值：0,0
boolean[] b = new boolean[2];      // 默认值：false,false
String[] c = new String[2];        // 默认值：null, null
```



#### 7.3 数组遍历

【1】for循环遍历

```java
public class Test {
    public static void main(String[] args) {
        int[] a = new int[4]; 
        for(int i=0;i<a.length;i++){    //数组元素赋值
            a[i] = 100*i;
        } 
        for(int i=0;i<a.length;i++){    //遍历数组元素
            System.out.println(a[i]);
        }
    }
}
```



【2】for-each循环遍历

```java
public class Test {
    public static void main(String[] args) {
        String[] s1 = { "aaa", "bbb", "ccc", "ddd" };
        for (String temp : s1) {    //for-each循环，对数组进行遍历
            System.out.println(temp);
        }
    }
}
```



####  7.4 数组拷贝

System.arraycopy()方法语法

```java
arraycopy(object src，int srcpos，object dest， int destpos，int length)
```

- 将src数组里的元素值赋给dest数组的元素。
- 其中srcpos指定从src数组的第几个元素开始赋值
- length参数指定将src数组的多少个元素赋给dest数组的元素。



```java
public class TestArraycopy {
    public static void main(String args[]) {
        String[] s1 = {"AA","BB","CC","DD","EE"}; 
        String[] s2 = new String[6]; 
        System.arraycopy(s1,0,s2,0,s1.length);    //拷贝数组 
        for (int i = 0; i < s2.length; i++) {
            System.out.print(s2[i]+ "\t");
        }
    }
}
```

>AA   BB   CC   DD   EE   null   



#### 7.5 数组打印

Arrays.toString()方法：打印数组

```java
public class TestArrays {
	public static void main(String[] args) {
		int[] a= {10,20};
		System.out.println(Arrays.toString(a));
	}
 
}
```

>[10, 20]



#### 7.6 数组排序

Arrays.sort()方法：升序排序

```java
public class TestArrays {
	public static void main(String[] args) {
		int[] a= {9,3,4,1,8,2,7,5,6};
		Arrays.sort(a);
		System.out.println(Arrays.toString(a));
	}
}
```

>[1, 2, 3, 4, 5, 6, 7, 8, 9]



#### 7.7 多维数组

【1】二维数组

```java
public class Test {
    public static void main(String[] args) {
        int[][] a = { { 1, 2, 3 }, { 3, 4 }, { 3, 5, 6, 7 } };
        System.out.println(a[2][3]);
    }
}
```



【2】数组存储表格数据

```java
public class TestArrays {
    public static void main(String[] args) {
        Object[] a1 = {1001,"林一",18,"程序员","2006-2-14"};
        Object[] a2 = {1002,"林二",19,"教师","2007-10-10"};
        Object[] a3 = {1003,"林三",20,"公务员","2008-5-5"};
        Object[][]  emps = new Object[3][];
        emps[0] = a1;
        emps[1] = a2;
        emps[2] = a3;
        System.out.println(Arrays.toString(emps[0]));
        System.out.println(Arrays.toString(emps[1]));
        System.out.println(Arrays.toString(emps[2]));  
    }
}
```



#### 7.8 数组算法

【1】冒泡算法

```java
public class TestArrays {
    public static void main(String[] args) {
    	int[] a= {3,9,1,6,8,2,7,5,4};
    	bubbleSort(a);
    	System.out.println(Arrays.toString(a));  	
    }
    
    public static void bubbleSort(int[] a) {
    	int temp;
    	int sum;
    	for(int i=0;i<a.length;i++) {
    		boolean flag = true;
        	for(int j=0;j<a.length-1-i;j++) {
        		if(a[j]>a[j+1]) {
        			temp=a[j];
        			a[j]=a[j+1];
        			a[j+1]=temp;
        			flag = false;
        		}
        	}
        	if(flag) {
        		break;
        	}
    	}
    }
}
```



【2】二分法查找

```java
public class TestArrays {
    public static void main(String[] args) {
    	int[] a = { 30,20,50,10,80,9,7,12,100,40,8};
    	int value=50;
    	Arrays.sort(a);  //二分法查找之前，一定要对数组元素排序
    	System.out.println(Arrays.toString(a));
    	System.out.println(binarySearch(a,value));
    }
    
    public static int binarySearch(int[] array,int value) {
    	int low=0;
    	int high=array.length-1;
    	while(low<high) {
    		int middle=(low+high)/2;
    		if(value==array[middle]) {
    			return middle;
    		}
    		if(value>array[middle]) {
    			low=middle+1;
    		}
    		if(value<array[middle]) {
    			high=middle-1;
    		}
    	}
    	return -1;
    }
}
```

>[7, 8, 9, 10, 12, 20, 30, 40, 50, 80, 100]
>8





### 八、输入输出

#### 8.1 标准输入输出

| 输入方法     | 含义                       |
| ------------ | -------------------------- |
| nextLine()   | 读取一行                   |
| next()       | 读取一个单词，以空白为间隔 |
| nextInt()    | 读取一个整数               |
| nextDouble() | 读取一个浮点数             |



```java
public class Test{
    public static void main(String[] args){
    	Scanner in=new Scanner(System.in);
    	System.out.print("请输入您的名字：");
    	String name=in.nextLine();	//标准输入,获取整行
    	System.out.println(name);	//标准输出
    }
}
```



#### 8.2 格式化输出

| printf转换符 | 含义       |
| ------------ | ---------- |
| %d           | 十进制整数 |
| %f           | 浮点数     |
| %s           | 字符串     |
| %b           | 布尔       |
| %tx, %Tx     | 日期时间   |



| printf标志 | 含义                                                         |
| ---------- | ------------------------------------------------------------ |
| ,          | 添加分组分隔符                                               |
| $          | 给定被格式化的参数索引。例如: ％1$d， ％1$x 将以十进制和 十六进制格式打印第 1 个参数 |
|            |                                                              |



```java
public class Test{
    public static void main(String[] args){
    	System.out.printf("%tc", new Date());
    	System.out.println();
    	System.out.printf("%1$tY-%1$tm-%1$td %1$tH:%1$tM:%1$tS", new Date());
    }
}
```

>执行结果：
>
>星期三 一月 27 13:45:35 CST 2021
>2021-01-27 13:45:35





#### 8.3 文件输入输出

```java
Scanner in=new Scanner(Paths.get("a.txt"),"UTF-8");
```



```java
PrintWriter out = new Printlulriter("b.txt", "UTF-8") ;
```





