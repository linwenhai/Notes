## 控制语句

### 一、选择结构

#### 1.1 if 结构

语法：

```java
1 if(布尔表达式){
2     语句块
3 }
```

if语句对布尔表达式进行一次判定，若判定为真，则执行{}中的语句块，否则跳过该语句块。

![img](D:\Notes\Java\Java基础\image\36d53c43d6d920a1d1bc077d73bdccb9.png)

#### 1.2 if-else 结构

语法：

```java
if(布尔表达式){
 　　语句块1
}else{
       语句块2
}
```

当布尔表达式为真时，执行语句块1，否则，执行语句块2。也就是else部分。

![img](D:\Notes\Java\Java基础\image\599370ac05430731dd09793f3de8082b.png)

```java
/**
 * 测试if-else结构
 * @author 林
 *
 */
public class TestIfelse {
    public static void main(String[] args) {
        double r = 4 * Math.random();
        double area = Math.PI * Math.pow(r, 2);
        double circle = 2 * Math.PI * r;
 
        System.out.println("半径为： " + r);
        System.out.println("面积为： " + area);
        System.out.println("周长为： " + circle);
 
        if(area >= circle) {
            System.out.println("面积大于等于周长");
        } else {
            System.out.println("周长大于面积");
        }
    }
}
```

>半径为： 2.37869994208023
>面积为： 17.77580169528716
>周长为： 14.945812526267433
>面积大于等于周长



#### 1.3 if-else if-else 结构

语法：

```java
if(布尔表达式1) {
    语句块1;
} else if(布尔表达式2) {
    语句块2;
}……
else if(布尔表达式n){
    语句块n;
} else {
    语句块n+1;
}
```



当布尔表达式1为真时，执行语句块1;否则，判断布尔表达式2，当布尔表达式2为真时，执行语句块2;否则，继续判断布尔表达式3······;如果1~n个布尔表达式均判定为假时，则执行语句块n+1，也就是else部分。

![img](D:\Notes\Java\Java基础\image\20d666226b9b2a3fe124b64e12409978.png)

```java
/**
 * 测试if-else if-else多选择结构
 * @author 林
 *
 */
public class TestIfelseifelse {
    public static void main(String[] args) {
        int age = (int) (100 * Math.random());
        System.out.print("年龄是" + age + "， 属于");
        if (age < 15) {
            System.out.println("儿童， 喜欢玩！");
        } else if (age < 25) {
            System.out.println("青年， 要学习！");
        } else if (age < 45) {
            System.out.println("中年， 要工作！");
        } else if (age < 65) {
            System.out.println("中老年， 要补钙！");
        } else if (age < 85) {
            System.out.println("老年， 多运动！");
        } else {
            System.out.println("老寿星， 古来稀！");
        }
    }
}
```



#### 1.4 switch 结构

语法：

```java
switch (表达式) {
case 值1: 
    语句序列1;
    [break];
case 值2:
     语句序列2;
    [break];
     … … …      … …
[default:
     默认语句;]
}
```

switch语句会根据表达式的值从相匹配的case标签处开始执行，一直执行到break语句处或者是switch语句的末尾。如果表达式的值与任一case值不匹配，则进入default语句(如果存在default语句的情况)。

![img](D:\Notes\Java\Java基础\image\215baf384191c8db904cd8076ca7bce4.png)

```java
/**
 * 测试switch结构
 * @author 林
 *
 */
public class TestSwitch {
    public static void main(String[] args) {
        char c='a';
        int rand=(int)(26*Math.random());
        char c2=(char)(c+rand);
        System.out.println(c2+":");
        switch(c2) {
        case 'a':
        case 'e':
        case 'i':
        case 'o':
        case 'u':
            System.out.println("元音");
            break;
        case 'y':
        case 'w':
            System.out.println("半元音");
            break;
        default:
            System.out.println("辅音");
        }
    }
}
```



### 二、循环结构

#### 2.1 while 循环

语法：

```java
while (布尔表达式) {
    循环体;
}
```

在循环刚开始时，会计算一次“布尔表达式”的值，若条件为真，执行循环体。而对于后来每一次额外的循环，都会在开始前重新计算一次。

语句中应有使循环趋向于结束的语句，否则会出现无限循环–––"死"循环。

![img](D:\Notes\Java\Java基础\image\00aee03411754861d03c4397e245baa3.png)

```java
/**
 * 测试while循环结构
 * @author 林
 *
 */
public class TestWhile {
    public static void main(String[] args) {
        int i=0;
        int sum=0;
        while (i<=100) {
            sum+=i;
            i++;
        }
        System.out.println("sum:"+sum);
    }
}
```

>执行结果：
>sum:5050



#### 2.2 do-while 循环

语法：

```java
do {
        循环体;
     } while(布尔表达式) ;
```

do-while循环结构会先执行循环体，然后再判断布尔表达式的值，若条件为真，执行循环体，当条件为假时结束循环。

do-while循环的循环体至少执行一次。

![img](D:\Notes\Java\Java基础\image\19b6b827154a5151fffaef343a4835e4.png)

```java
/**
 * 测试do-while循环结构
 * @author 林
 *
 */
public class TestWhile {
    public static void main(String[] args) {
        int i=0;
        int sum=0;
        do {
            sum+=i;
            i++;
        }while(i<=100);
        System.out.println("sum:"+sum);
    }
}
```

>执行结果：
>sum:5050



#### 2.3 for 循环

 语法：

```java
for (初始表达式; 布尔表达式; 迭代因子) {
      循环体;
}
```

for循环语句是支持迭代的一种通用结构，是最有效、最灵活的循环结构。

- for循环在第一次反复之前要进行初始化，即执行初始表达式。
- 随后，对布尔表达式进行判定，若判定结果为true，则执行循环体，否则，终止循环。
- 最后在每一次反复的时候，进行某种形式的“步进”，即执行迭代因子。

![img](D:\Notes\Java\Java基础\image\c5716c5a85ae9057df37c9e2ba1e906d.png)

```java
/**
 * 测试for循环
 * @author 林
 *
 */
public class TestFor {
    public static void main(String[] args) {
        int sum=0;
        for(int i=0;i<=100;i++) {
            sum+=i;
        }
        System.out.println("sum="+sum);
    }
}
```

>执行结果：
>sum:5050



#### 2.4 嵌套循环

 在一个循环语句内部再嵌套一个或多个循环，称为嵌套循环。

```java
/**
 * 测试使用嵌套循环实现九九乘法表
 * @author 林
 *
 */
public class TestChenfabiao {
    public static void main(String[] args) {
        //int r=3;    //分步测试
        for(int r=1;r<=9;r++) {
            for(int c=1;c<=r;c++) {
                System.out.print(c+"*"+r+"="+c*r+"\t");
            }
            System.out.println();
        }
    }
}
```

<img src="D:\Notes\Java\Java基础\image\image-20210113144522158.png" alt="image-20210113144522158" style="zoom: 80%;" />



#### 2.5 break与continue语句

break用于强行退出循环，不执行循环中剩余的语句。

continue 语句用在循环语句体中，用于终止某次循环过程，即跳过循环体中尚未执行的语句，接着进行下一次是否执行循环的判定。

```java
/**
 * 测试break语句
 * @author 林
 *
 */
public class TestBreak {
    public static void main(String[] args) {
        int total=0;
        System.out.println("开始");
        while(true) {
            total++;
            int i=(int)Math.round(100*Math.random());
            if(i==88) {
                break;
            }
        }
        System.out.println("循环"+total+"次命中");
    }
}
```



```java
/**
 * 测试continue语句
 * @author 林
 *
 */
public class TestContinue {
    public static void main(String[] args) {
        int count=0;
        for(int i=1;i<50;i++) {
            if(i%3==0) {
                continue;
            }
            System.out.print(i+"、");
            count++;
            if(count%5==0) {
                System.out.println();
            }
        }
    }
}
```



### 三、语句块

语句块(有时叫做复合语句)，是用花括号扩起的任意数量的简单Java语句。

语句块可以使用外部的变量，而外部不能使用语句块中定义的变量，因为语句块中定义的变量作用域只限于语句块。

```java
public class TestBlock {
    public static void main(String[] args) {
        int n;
        int a;
        {
            int k;
            int n; //编译错误：不能重复定义变量n
        }
    }
}
```



### 四、递归结构

 递归的基本思想就是“自己调用自己”。

```java
/**
 * 测试递归：计算n!
 * @author 林
 *
 */
public class TestRecursion {
    public static void main(String[] args) {
        long d1=System.currentTimeMillis();
        System.out.println(factorial(10));
        long d2=System.currentTimeMillis();
        System.out.println(d2-d1);
    }
 
    static long factorial(int n) {
        if(n==1) {
            return 1;
        }else {
            return n*factorial(n-1);
        }
    }
}
```

