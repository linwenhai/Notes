## Java基本程序设计结构



### 一、简单的Java程序

FirstSample.java

```java
public class FirstSample {
	public static void main(String[] args) {
		System.out.println("Hello Java");
	}
}
```

【分析】：

- Java 区分大小写。  
- 关键字 public 称为访问修饰符（access modifier )  ，用于控制程序的其他部分对这段代码的访问级別。  
- 关键字 class 表明 Java 程序中的全部内容都包含在类中。  
- 关键字 class 后面紧跟类名，类名是以大写字母开头  ，遵循胳蛇命名法。
- 源代码的文件名必须与公共类的名字相同，并用.java 作为扩展名。  
- Java 中任何方法的代码都用“ {” 开始，用"}"结束，空白符会被 Java 编译器忽略。
- 每个 Java 应用程序都必须有一个 main 方法。
- 在 Java 中，每个句子必须用分号";"结束。  
- Java 编译器将字节码文件自动地命名为FirstSample. class, 并与源文件存储在同一个目录下。  
- 运行这个程序：java FirstSample  
- System.out.println()，使用了 System.out 对象并调用了它的 println 方法，输出后换行。
- System.out.print()，它在输出之后不换行。  



### 二、注释

3种标记注释方法：

- //：注释内容从 // 开始到本行结尾。  
- /* 开始 ，以 */  结束：注释内容为开始与结束之间的内容。
- /** 开始， 以 */ 结束：文档注释，注释内容为开始与结束之间的内容。



### 三、数据类型

Java 是一种强类型语言，使用变量必须先声明类型。

#### 3.1 整型

整型用于表示没有小数部分的数值， 它允许是负数。

默认使用 int 类型  

![image-20210114164801896](D:\Notes\Java\Java核心技术\image\image-20210114164801896.png)

- 长整型数值后缀为 L 或 1，如40000000L。
- 十六进制数值前缀为 Ox 或 0X ，如OxCAFE。
- 八进制前缀为 0
- 二进制前缀为0b或0B



#### 3.2 浮点类型

浮点类型用于表示有小数部分的数值。  

默认使用double类型。

![image-20210114165242160](D:\Notes\Java\Java核心技术\image\image-20210114165242160.png)

- float 类型的数值有一个后缀 F 或 f  ，如3.14F 



#### 3.3 char类型

char 类型用于表示单个字符，如'A'。

![image-20210114165608562](D:\Notes\Java\Java核心技术\image\image-20210114165608562.png)



#### 3.4 boolean类型

boolean (布尔）类型有两个值：false 和 true, 用来判定逻辑条件 。

整型值和布尔值之间不能进行相互转换。



### 四、变量与常量

在 Java 中， 每个变量都有一个类型 （type)。  

在声明变量时， 变量的类型位于变量名之前，以分号结束。

```java
int a;
```



在 Java 中， 利用关键字 final 指示常量。  

常量一旦被赋值， 就不能够更改，常量名使用全大写。  

```java
final double PI=3.14;
```



某个常量可以在一个类中的多个方法中使用，通常将这些常量称为类常量。

使用关键字 static final 设置一个类常量。  

类常量的定义位于 main 方法的外部。

```java
public static final double CM_PER_INCH=2.54;
```



### 五、运算符

在 Java 中，使用算术运算符 +、-、 *、/ 表示加、减、 乘、 除运算。  

整数的求余（取模）用 % 表示。

整数被 0 除将会产生一个异常， 而浮点数被 0 除将会得到无穷大或 NaN 结果。  



#### 5.1 数学函数

| Math方法      |                   |
| ------------- | ----------------- |
| Math.sqrt(a)  | 计算数值a的平方根 |
| Math.pow(x,a) | 数值x的a次幂      |
| Math.sin      |                   |
| Math.cos      |                   |
| Math.tan      |                   |
| Math.atan     |                   |
| Math.atan2    |                   |
| Math.exp      | 指数函数          |
| Math.log      | 自然对数          |
| Math.log10    | 以10为底的对数    |
| Math.PI       | Π 的近似值        |
| Math.E        | e 的近似值        |



#### 5.2 类型转换

![image-20210114171929500](D:\Notes\Java\Java核心技术\image\image-20210114171929500.png)

- 6 个实心箭头，表示无信息丢失的转换。

- 3 个虚箭头， 表示可能有精度损失的转换。  

  

【转换规则】

- 两个操作数中有一个是 double 类型， 另一个操作数就会转换为 double 类型。
- 否则， 如果其中一个操作数是 float 类型， 另一个操作数将会转换为 float 类型。  
- 否则， 如果其中一个操作数是 long 类型， 另一个操作数将会转换为 long 类型。  
- 否则， 两个操作数都将被转换为 int 类型。  



【强制类型转换】

强制类型转换通过截断小数部分将浮点值转换为整型。  

```java
double x=9.997;
int y=(int)x;	//y值为9
```

```java
double x=9.997;
int y=(int)Math.round(x);
```



#### 5.3 赋值运算符

```java
int x;
x+=4;	//等价于x=x+4
```



建议不要在表达式中使用 ++  。

```java
int n=12;
n++;	//n值是13
```



#### 5.4 关系与布尔运算符

```java
3==7	//false
```

```java
3!=7	//true
```

```java
x!=0 && 1/x>x+y		// && 表示逻辑“ 与” 运算符,如x=0，第二部分就不会计算
```



#### 5.5 位运算



### 六、字符串

Java 没有内置的字符串类型，而是在标准 Java 类库中提供了一个预定义类String。

```java
String a="Hello Java";
```



#### 6.1 子串

```java
String a="Hello Java";
System.out.println(a.substring(0,3));	//结果Hel
```



#### 6.2 拼接

```java
System.out.println("My name: "+name);
```



#### 6.3 检测字符串是否相等

使用 equals 方法检测两个字符串是否相等。  

```java
s1.equals(s2)
```

```java
s1.equalsIgnoreCase(s2)	//不区分大小写
```



#### 6.4 空串与Null串

空串 "" 是长度为 0 的字符串。  

空串是一个 Java 对象， 有自己的串长度（0 ) 和内容（空）。  

String 变量还可以存放一个特殊的值， 名为null, 这表示目前没有任何对象与该变量关联。

```java
if(str.length()==0)
```



#### 6.5 常用String方法

| String方法 |      |
| ---------- | ---- |
|            |      |
|            |      |
|            |      |
|            |      |
|            |      |
|            |      |
|            |      |
|            |      |
|            |      |
|            |      |
|            |      |
|            |      |
|            |      |



#### 6.5 构建字符串

StringBuilder类

```java
/**
 * 测试StringBuilder类
 * @author 林
 *
 */
public class Test {
	public static void main(String[] args) {
		StringBuilder s1=new StringBuilder();	//字符串构建器
		s1.append("AB");		//添加字符串
		s1.append("CD");
		String s2=s1.toString();	//字符串构建器转成String对象
		System.out.println(s2);		
	}
}
```



### 七、输入与输出

#### 7.1 控制台输入

```java
import java.util.Scanner;

/**
 * 测试标准输入
 * @author 林
 *
 */
public class Test {
	public static void main(String[] args) {
		Scanner in=new Scanner(System.in);	//创建Scanner对象，关联System.in
		//String a=in.nextLine();		//获取一行
		//String a=in.next();		//获取一个单词
		//int a=in.nextInt();		//获取整数
		Double a=in.nextDouble();	//获取浮点数
		System.out.println(a);
	}
}
```



#### 7.2 格式化输出

【1】printf方法

|      |            |
| ---- | ---------- |
| %f   | 浮点数     |
| %s   | 字符串     |
| %d   | 十进制整数 |



```java
/**
 * 测试格式化输出
 * @author 林
 *
 */
public class Test {
	public static void main(String[] args) {
		double x=10000.0/3.0;
		System.out.printf("%,.2f", x);		//,表示分隔符，.2表示保留2位小数
	}
}
```



【2】日期与时间格式

以t开头。

|      | 描述           | 示例                             |
| ---- | -------------- | -------------------------------- |
| %tc  | 完整日期和时间 | 星期四 一月 14 20:49:36 CST 2021 |
| %tY  | 4位数年        | 2021                             |
| %tm  | 2位数月        | 01                               |
| %td  | 2位数日        | 14                               |
| %tT  | 时间           | 20:49:36                         |



```java
import java.util.Date;

/**
 * 测试日期和时间格式化输出
 * @author 林
 *
 */
public class Test {
	public static void main(String[] args) {
		System.out.printf("%tY-%tm-%td %tT", new Date(),new Date(),new Date(),new Date());
		System.out.println();
		System.out.printf("%tc",new Date());
	}
}
```

>2021-01-14 20:49:36
>星期四 一月 14 20:49:36 CST 2021



#### 7.3 文件输入输出

```java
Scanner in=new Scanner(Paths.get("d:\\1.txt"),"UTF-8");		//读取文件，如不存在抛错
```



```java
PrintWriter out=new PrintWriter("d:\\2.txt","UTF-8");	//写入文件，如文件不存在，创建新的
```



### 八、控制流程

#### 8.1 if语句

else子句与最邻近的if构成一组。

【1】if结构

```java
public class Test {
	public static void main(String[] args) {
		int a=20;
		if(a<18) {
			System.out.println("未成年人");
		}
	}
}
```



【2】if-else结构

```java
public class Test {
	public static void main(String[] args) {
		int a=20;
		if(a<18) {
			System.out.println("未成年人");
		}else {
			System.out.println("成年人");
		}
	}
}
```



【3】if-else-if-else结构

```java
public class Test {
	public static void main(String[] args) {
		int a=20;
		if(a<18) {
			System.out.println("未成年人");
		}else if(a<60){
			System.out.println("大人");
		}else {
			System.out.println("老人");
		}
	}
}
```



#### 8.2 while循环







九、大数值

十、数组