## 继承



#### 一、父类与子类

子类使用关键字extends继承父类，获取父类属性和方法（构造方法、私有属性和方法不继承）。

```java
class Animal{}
class Dog extends Animal{}
```



##### 1.1 方法重写

方法重写（Override）：子类通过重写父类的方法，可以用自身的行为替换父类的行为。

方法重写条件：

1. 方法名、形参列表相同。
2. 返回值类型和声明异常类型，子类小于等于父类。
3. 访问权限，子类大于等于父类。



##### 1.2 super关键字

关键字this用途：一是引用隐式参数，二是调用该类的其他构造方法。

关键字super用途：一是调用父类方法，二是调用父类的构造器。

```java
package com.test.java;
public class TestExtands {
	public static void main(String[] args) {
		Manager m1=new Manager("林一",20000);
		System.out.println(m1.getSalary());
	}
}
class Employee{
	private String name;
	private double salary;
	public Employee(String name,double salary){
		this.name=name;
		this.salary=salary;
	}
	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name = name;
	}
	public double getSalary() {
		return salary;
	}
	public void setSalary(double salary) {
		this.salary = salary;
	}
}
class Manager extends Employee{
	private double bonus;
	public Manager(String name,double salary) {
		super(name,salary);		//super调用父类构造器
		bonus=10000;
	}
	@Override
	public double getSalary() {
		double baseSalary=super.getSalary();	//super调用父类方法
		return baseSalary+bonus;
	}
}
```





##### 1.3 多态

多态（polymorphism）指的是同一个方法调用，由于对象不同可能会有不同的行为。

1. 多态是方法的多态，不是属性的多态。
2. 多态的存在要有3个必要条件：继承，方法重写，父类引用指向子类对象。
3. 父类引用指向子类对象后，用该父类引用调用子类重写的方法，实现多态。

```java
package com.test.java;
public class TestPolymorphism {
	public static void main(String[] args) {
		Animal a1=new Dog();	//父类引用指向子类对象，实现多态的条件
		Animal a2=new Cat();
		animalCry(a1);
		animalCry(a2);
	}
	/*实现了多态，只需写一个方法，避免写多个重载方法*/
	/*多态目的：减少代码量，减低复杂度*/
	static void animalCry(Animal a) {	
		a.shout();
	}
}
class Animal{
	public void shout() {
		System.out.println("动物叫了一声");
	}
}
class Dog extends Animal{	//继承
    @Override
	public void shout() {	//重写父类方法
		System.out.println("汪汪汪");
	}
}
class Cat extends Animal{	//继承
    @Override
	public void shout() {	//重写父类方法
		System.out.println("喵喵喵");
	}
}
```



##### 1.4 强制类型转换

子类引用指向父类对象，需要进行强制类型转换。

```java
Animal a1=new Dog();	//父类引用指向子类对象

if(a1 instanceof Dog){	//强制类型转换前，需先判断避免异常
    Dog d1=(Dog) a1;	//子类引用指向父类对象
}
```

instanceof是二元运算符，左边是对象，右边是类；当对象是右边类或子类所创建对象时，返回true；否则，返回false。



##### 1.5 抽象方法和抽象类

抽象方法：使用abstract修饰的方法，没有方法体，只有声明。抽象方法充当占位符，需子类具体实现。

抽象类： 包含抽象方法的类就是抽象类。

抽象类特点：

1. 有抽象方法的类只能定义成抽象类。
2. 抽象类不能实例化，即不能用new来实例化抽象类。
3. 抽象类可以包含属性、方法、构造方法，但是构造方法不能用来new实例，只能用来被子类调用。
4. 抽象类只能用来被继承。
5. 抽象方法必须被子类实现。

```java
package com.test.java;

public class Test {
	public static void main(String[] args) {
		Dog d1=new Dog();
		d1.shout();
	}
}

abstract class Animal{	//抽象类
	abstract public void shout();	//抽象方法
}
class Dog extends Animal{
	public void shout() {
		System.out.println("汪汪汪");
	}
}
```



#### 二、Object类

Object类是所有java的父类，默认继承。

Object类型变量可引用任何类型对象。

```java
Object obj=new Employee();
```



Java中，只有基本类型不是对象，所有数组类型都扩展了Object类。

```java
Employee[] e=new Employee[10];
obj=e;	//ok
obj=new int[10];	//ok
```



##### 2.1 equals方法

Object 的 equals 方法默认就是比较两个对象的hashcode，是同一个对象的引用时返回 true，否则返回 false。

“==”：如是基本类型则表示值相等，如是引用类型则表示地址相等。

比较字符串是否相等，使用equals 方法。

```java
package com.test.java;

public class Test {
	public static void main(String[] args) {
		String s1=new String("林一");
		String s2=new String("林一");
		System.out.println(s1==s2);		//false
		System.out.println(s1.equals(s2));	//true
	}
}
```



【1】自定义equals方法

```java
package com.test.java;

public class Test {
	public static void main(String[] args) {
		Person p1=new Person(1001,"林一");
		Person p2=new Person(1001,"林一");
		System.out.println(p1==p2);
		System.out.println(p1.equals(p2));
	}
}

class Person{
	int id;
	String name;
	public Person(int id,String name) {
		this.id=id;
		this.name=name;
	}
	public boolean equals(Object obj) {
		if(obj==null) {
			return false;
		}else {
			if(obj instanceof Person) {
				Person c=(Person)obj;
				if(c.id==this.id) {
					return true;
				}
			}
		}
		return false;
	}
}
```



##### 2.2 hashCode方法

每个对象都有一个默认的散列码，其值为对象的存储地址。

```java
package com.test.java;

public class Test {
	public static void main(String[] args) {
		String s1="林一";
		String s2=new String("林一");
		System.out.println("s1散列值:"+s1.hashCode());	//散列值
		System.out.println("s2散列值:"+s2.hashCode());
		StringBuilder s3=new StringBuilder(s1);
		StringBuilder s4=new StringBuilder(s2);
		System.out.println("s3散列值:"+s3.hashCode());
		System.out.println("s4散列值:"+s4.hashCode());
	}
}
```

>输出结果：
>
>s1散列值:842057
>s2散列值:842057
>s3散列值:366712642
>s4散列值:1829164700



##### 2.3 String方法

String方法：用于返回表示对象值的字符串。

在打印输出对象时，会自动调用该对象的toString()方法，默认会返回“类名+@+16进制的hashcode”。

```java
package com.test.java;
public class Test {
	public static void main(String[] args) {
		Person p1=new Person();
		System.out.println(p1);
	}
}
class Person{}
```

>输出结果：
>
>com.test.java.Person@15db9742



【1】重写toString()方法





三、泛型



四、包装器和自动装箱



五、可变参数



六、枚举类



七、反射



八、继承设计技巧



















