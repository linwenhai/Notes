## 日期函数

### 1 now函数

函数now()：获得当前日期+时间（date + time）。

```sql
select now();
```

> 2020-08-18 14:35:00



### 2 date_format函数

DATE_FORMAT() 函数用于以不同的格式显示日期/时间数据。

语法：DATE_FORMAT(date,format)

| format参数 | 描述         |
| ---------- | ------------ |
| %Y         | 年，4 位     |
| %m         | 月 (00-12)   |
| %d         | 天 (00-31)   |
| %H         | 小时 (00-23) |
| %i         | 分钟 (00-59) |
| %S         | 秒(00-59)    |

```sql
SELECT DATE_FORMAT(NOW(),"%Y-%m-%d %H:%i:%S")
```

>2020-08-18 14:33:51



### 3 date_sub函数

DATE_SUB() 函数从日期减去指定的时间间隔。

语法：DATE_SUB(date,INTERVAL expr type)

| type参数 | 描述 |
| -------- | ---- |
| MINUTE   | 分钟 |
| HOUR     | 小时 |
| DAY      | 天   |

```sql
/* 查询1分钟请求量 */
SELECT COUNT(*) FROM tb_sf_pay_req t
WHERE t.crttime >= DATE_SUB(NOW(),INTERVAL 1 MINUTE);
```

