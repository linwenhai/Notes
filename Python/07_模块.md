## 模块和包

- 每一个以扩展名py结尾的Python源代码文件都是一个模块。

- 模块名同样也是一个标识符，需要符合标识符的命名规则。

- 在模块中定义的全局变量、函数、类都是提供给外界直接使用的工具。

- 模块就好比是工具包，要想使用这个工具包中的工具，就需要先导入这个模块。



### 1 模块导入

```python
import 模块名1, 模块名2 
```

```python
from 模块名1 import 工具名
```



### 2 模块测试代码

- 测试模块的代码只在测试情况下被运行，而在被导入时不会被执行。

- `__name__`是Python的一个内置属性，记录着一个字符串。

- 如果是被其他文件导入的，`__name__`就是模块名。

- 如果是当前执行的程序`__name__`是`__main__`。

```python
def main():
    pass

# 根据 __name__ 判断是否执行下方代码
if __name__ == "__main__":
    main()
```



### 3 包

- 包是一个包含多个模块的特殊目录。

- 目录下有一个特殊的文件`__init__`.py。

- 包名的命名方式和变量名一致。
- 使用 **import 包名** 可以一次性导入包中所有的模块。

1】创建目录pk

2】创建模块

```python
# ms.py
def t1():
    print("hello lin yi")
```

```python
# rm.py
def t2():
    print("hello lin san")
```



3】创建`__init__`.py

```python
from . import sm
from . import rm
```



4】导入包

```python
import pk
```



### 4 发布模块

1】创建 setup.py

```python
from distutils.core import setup

setup(name="hm_message",  # 包名
      version="1.0",  # 版本
      description="itheima's 发送和接收消息模块",  # 描述信息
      long_description="完整的发送和接收消息模块",  # 完整描述信息
      author="itheima",  # 作者
      author_email="itheima@itheima.com",  # 作者邮箱
      url="www.itheima.com",  # 主页
      py_modules=["hm_message.send_message",
                  "hm_message.receive_message"])
```

2】构建模块

```bash
python3 setup.py build
```

3】生成发布压缩包

```bash
python3 setup.py pk
```



### 5 安装卸载模块

```bash
tar -zxvf hm_message-1.0.tar.gz
python3 setup.py install
```

```bash
cd /usr/local/lib/python3.5/dist-packages/
rm -r hm_message*
```



### 6 pip安装第三方模块

```bash
# 安装模块
pip3 install pygame

# 卸载模块
pip3 uninstall pygame
```



