## 参数

函数的参数传递本质上就是：从实参到形参的赋值操作。

Python 中“一切皆对象”，所有的赋值操作都是“引用的赋值”，所以，Python 中参数的传递都是“引用传递”，不是“值传递”。

具体操作时分为两类：
- 对“可变对象”进行“写操作”，直接作用于原对象本身。
- 对“不可变对象”进行“写操作”，会产生一个新的“对象空间”，并用新的值填充这块空间。

**可变对象**：字典、列表、集合、自定义的对象等
**不可变对象**：数字、字符串、元组、function 等





### 1 传递可变对象的引用

```python
b = [10,20]
def f2(m):
    print("m:",id(m))
    m.append(30)
f2(b)
print("b:",id(b))
print(b)
```

执行结果：

```
m: 1777024262792
b: 1777024262792
[10, 20, 30]
```



### 2 传递不可变对象的引用

```python
a = 100
def f1(n):
    print("n:",id(n))
    n = n + 200
    print("n:",id(n))
    print(n)
f1(a)
print("a:",id(a))
```

执行结果：

```
n: 140728609369840
n: 2119103014864
300
a: 140728609369840
```



### 3 浅拷贝和深拷贝

内置函数：copy(浅拷贝)、deepcopy(深拷贝)

浅拷贝：不拷贝子对象的内容，只是拷贝子对象的引用。
深拷贝：会连子对象的内存也全部拷贝一份，对子对象的修改不会影响源对象。

```python
import copy

def testCopy():
    """测试浅拷贝"""
    a = [10,20,[5,6]]
    b = copy.copy(a)
    print("a",a)
    print("b",b)
    b.append(30)
    b[2].append(7)
    print("---浅拷贝---")
    print("a",a)
    print("b", b)

def testDeepCopy():
    """测试深拷贝"""
    a = [10,20,[5,6]]
    b = copy.deepcopy(a)
    print("a",a)
    print("b",b)
    b.append(30)
    b[2].append(7)
    print("---深拷贝---")
    print("a",a)
    print("b", b)

testCopy()
print("-----------------")
testDeepCopy()
```

执行结果：

```
a [10, 20, [5, 6]]
b [10, 20, [5, 6]]
---浅拷贝---
a [10, 20, [5, 6, 7]]
b [10, 20, [5, 6, 7], 30]
-----------------
a [10, 20, [5, 6]]
b [10, 20, [5, 6]]
---深拷贝---
a [10, 20, [5, 6]]
b [10, 20, [5, 6, 7], 30]
```



### 4 传递不可变对象包含的子对象是可变的情况

```python
#不可变对象,子对象可以改变
a = (10,20,[5,6])
print("a:",id(a))
def test01(m):
    print("m:",id(m))
    m[2][0] = 88
    print(m)
    print("m:",id(m))
test01(a)
print(a)
```

执行结果：

```
a: 2740284828768
m: 2740284828768
(10, 20, [88, 6])
m: 2740284828768
(10, 20, [88, 6])
```



### 5 参数类型

**位置参数**：函数调用时，实参默认按位置顺序传递，需要个数和形参匹配。按位置传递的参数。

```python
def f1(a,b,c):
    print(a,b,c)
f1(1,2,3)
f1(7,8) #报错，位置参数不匹配
```



**默认值参数**：某些参数设置默认值，这样这些参数在传递时就是可选的。

```python
def f1(a,b,c=10):
    print(a,b,c)
f1(8,9)
f1(8,9,11)
```

执行结果：

```
8 9 10
8 9 11
```



**命名参数**：按照形参的名称传递参数，称为“命名参数”，也称“关键字参数”。

```python
def f1(a,b,c):
    print(a,b,c)
f1(8,9,11)
f1(c=20,a=8,b=40)
```

执行结果：

```
8 9 11
8 40 20
```



**可变参数**：指的是“可变数量的参数

- *param（一个星号），将多个参数收集到一个“元组”对象中。
- **param（两个星号），将多个参数收集到一个“字典”对象中。

```python
def f1(a,b,*c):
    print(a,b,c)

def f2(a,b,**c):
    print(a,b,c)

f1(1,2,3,4,5)
f2(1,2,name="林一",age=18)
```

执行结果：

```
1 2 (3, 4, 5)
1 2 {'name': '林一', 'age': 18}
```

